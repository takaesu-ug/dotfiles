[settings]
experimental = true
# lockfile = true
pipx.uvx = true
disable_backends = ["asdf"]
idiomatic_version_file_enable_tools = ["node", "ruby"]

[tasks.apps]
description = "Brewfile に基づいて GUI アプリをインストール/更新"
run = """
brew bundle check --file=./Brewfile && brew bundle --file=./Brewfile --no-upgrade
"""

[tasks.setup]
description = "開発環境をまとめて用意（ツール＋アプリ）"
depends = ["apps"]
run = "mise install"  # tools 節のツールをインストール

[tasks.zsh]
description = "zshのセットアップ"
run = """
bash -c "$(curl --fail --show-error --silent --location https://raw.githubusercontent.com/zdharma-continuum/zinit/HEAD/scripts/install.sh)"
"""

[tasks.symlinks]
description = "dotfiles からホームディレクトリへのシンボリックリンクを作成"
run = "bash ~/.config/mise/scripts/apply-symlinks.sh"

[tools]
deno = "latest"
node = "22"
python = "3"
ruby = "3"
uv = "latest"
bun = "latest"
rust = "latest"
gh = "latest"
terraform = "latest"
"aqua:junegunn/fzf" = "latest"
"aqua:x-motemen/ghq" = "latest"
"aqua:jqlang/jq" = "latest"
"aqua:neovim/neovim" = "latest"
"aqua:BurntSushi/ripgrep" = "latest"
"aqua:aws/aws-cli" = "latest"
"cargo:eza" = "latest"
"npm:@openai/codex" = "latest"
"npm:@yarnpkg/cli-dist" = "latest"
